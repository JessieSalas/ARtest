<!DOCTYPE html>
<html>
<head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>
    <style>
        #ar-container {
            position: relative;
            z-index: 0;
        }
        #overlay {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 1;
        }
        #slider {
            position: fixed; /* Stay in place */
            z-index: 1; /* Sit on top */
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: rgba(255,255,255,0.5);
            text-align: center;
        }
    </style>
</head>
<body style="margin: 0; overflow: hidden;">

<div id="ar-container">
    <a-scene embedded arjs='sourceType: webcam;'>
        <a-marker preset="hiro">
            <a-plane position="0 0 0" rotation="-90 0 0" width="1" height="1" id="d3-plane"></a-plane>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</div>

<div id="overlay">
    <iframe id="d3-iframe" style="display: none;" src="visualization.html" width="300" height="300"></iframe>
</div>

<!-- Slider to control D3 visualization -->
<div id="slider">
    <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
</div>

<script>
    // Your previous script remains the same for setting up the scene

    var slider = document.getElementById("myRange");
    var iframe = document.getElementById('d3-iframe');

    slider.addEventListener("input", function() {
        // Send a message to the iframe with the new value
        iframe.contentWindow.postMessage({
            type: 'updateRadius',
            value: this.value
        }, '*');
    });

    // In your visualization.html, listen for messages
    // You need to add this script to your visualization.html file
    /*
    window.addEventListener('message', function(event) {
        if (event.data.type === 'updateRadius') {
            // Call the function that updates your D3 chart
            updateCircleRadius(event.data.value);
        }
    });
    */
</script>

</body>
</html>
